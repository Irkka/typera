@mixin import-fonts($font-maps) {
  @include import-google-web-fonts(nested-map-get($font-maps, google families));
  @include import-local(nested-map-get($font-maps, local));
}

@mixin import-google-web-fonts($font-families) {
  $web-fonts-protocol: 'http';
  @each $font-family, $font-name in $font-families {
    @include web-fonts($font-name);
  }
}

@mixin import-local($font-local) {
  $font-path: nested-map-get($font-local, path);
  $font-families: nested-map-get($font-local, families);

  @each $font-family, $font-faces in $font-families {
    @debug $font-family;
    @debug $font-faces;
    @if type-of($font-faces) != list {
      @include font-face(nested-map-get($font-faces, name), nested-map-get($font-faces, file));
    }
    @else {
      @each $font-face in $font-faces {
        @include font-face(nested-map-get($font-face, name), nested-map-get($font-face, file));
      }
    }
  }
}
